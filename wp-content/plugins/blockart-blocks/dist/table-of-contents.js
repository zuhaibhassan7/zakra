(()=>{function t(t,n){(null==n||n>t.length)&&(n=t.length);for(var r=0,e=new Array(n);r<n;r++)e[r]=t[r];return e}var n,r,e,o,a,c,l,i,u,f;n=window.blockartUtils,r=n.$$,e=n.domReady,o=n.find,a=n.parseHTML,c=n.toArray,l=n.each,i=n.on,u=function(t){var n;t.preventDefault();var r=null===(n=t.target)||void 0===n?void 0:n.closest(".blockart-toc");"true"===r.getAttribute("data-collapsed")?r.setAttribute("data-collapsed","false"):r.setAttribute("data-collapsed","true")},f=function(){var n=c(r(".blockart-toc"));l(n,(function(n){var e;if(n.dataset.toc&&function(n){if(null!=n&&n.length){var e,c=function(n,r){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(!e){if(Array.isArray(n)||(e=function(n,r){if(n){if("string"==typeof n)return t(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?t(n,r):void 0}}(n))||r&&n&&"number"==typeof n.length){e&&(n=e);var o=0,a=function(){};return{s:a,n:function(){return o>=n.length?{done:!0}:{done:!1,value:n[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,l=!0,i=!1;return{s:function(){e=e.call(n)},n:function(){var t=e.next();return l=t.done,t},e:function(t){i=!0,c=t},f:function(){try{l||null==e.return||e.return()}finally{if(i)throw c}}}}(n);try{var l=function(){var t=e.value,n=Array.from(r("h".concat(t.level))).find((function(n){return n.textContent===t.content}));if(!n||o(n,"#".concat(t.id.replace(/\d/g,(function(t){return"\\3"+t})))))return 1;var c=a('<span id="'.concat(t.id,'" class="').concat(".blockart-toc-anchor",'"></span>'),1);null==n||n.insertAdjacentElement("afterbegin",c)};for(c.s();!(e=c.n()).done;)l()}catch(t){c.e(t)}finally{c.f()}}}(null===(e=window)||void 0===e?void 0:e[n.dataset.toc]),n.dataset.collapsed){var c=o(n,".blockart-toc-toggle");i("click",c,u)}}))},e((function(){!function(){if(!o("#ba-smooth-scroll")){var t=Object.assign(document.createElement("style"),{id:"ba-smooth-scroll",innerHTML:"html {scroll-behavior: smooth;}"});document.head.appendChild(t)}}(),f()}))})();